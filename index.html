<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>INCTree</title>
	<link rel="stylesheet" href="css/bootstrap.css">
	<link rel="stylesheet" href="css/inctree.css">

	<!-- icon block-->
	<link rel="stylesheet" href="css/animation.css">
	<link rel="stylesheet" href="css/icon.css">
	<link rel="stylesheet" href="css/icon-codes.css">
	<link rel="stylesheet" href="css/icon-embedded.css">
	<link rel="stylesheet" href="css/icon-ie7.css">
	<link rel="stylesheet" href="css/icon-ie7-codes.css">

	<!-- icon prevoius js-->
	<script src="js/jquery.js"></script>

</head>

<body>
	<h1>ARBOL</h1>
	<section id="tree" class="container">
	</section>

	<section class="container">
		<br>
		<button class="btn btn-default" id="refresh">Refrescar</button>
	</section>

	<script id="tree-root-template" type="text/template">
		<ul class="list-group tree-container inc-tree">
			<li class="list-group-item headers">
				<div class="row text-box">
					<div class="col-lg-7 left">Category Name</div>
					<div class="col-lg-2 center">Period type</div>
					<div class="col-lg-3 center">Actions</div>
				</div>
			</li>
		</ul>
	</script>

	<script id="tree-child-template" type="text/template">
		<li class="list-group-item">
			<div class="row text-box">
				<div class="col-lg-7 left">
					<a href="#" class="action-expand">
						<i class="icon-plus-squared"></i>
					</a>
					<span class="category-name">Categoria 1</span>
				</div>
				<div class="col-lg-2 center" class="weight">Both</div>

				<div class="col-lg-3 row actions">
					<a href="#" class="action-edit">
						<i class="icon-pencil"></i>
					</a>
					<a href="#" class="action-add-child">
						<i class="icon-flow-branch"></i>
					</a>
					<a href="#" class="action-delete">
						<i class="icon-trash"></i>
					</a>
				</div>
			</div>
			<ul class="list-group inc-tree collapsed"></ul>
		</li>
	</script>


	<script id="tree-addbox-template" type="text/template">
		<div class="row edit-box">
			<div class="col-lg-7 left">
				<div class="form-group">
				    <label class="control-label">Category Name</label>
			        <input type="text" class="form-control input-category" >
				</div>
			</div>
			<div class="col-lg-2">
				<label class="control-label left">Period Type</label>
				<select name="period-type" class="period-type form-control">
					<option value=""></option>
				</select>
			</div>
			<div class="col-lg-1 left">
				<div class="form-group">
				    <label class="control-label left">Weight</label>
			        <input type="text" class="form-control input-weight">
				</div>
			</div>
			<div class="col-lg-2 row actions">
				<button type="button" class="btn btn-primary  action-save">Save</button>
				<button type="button" class="btn btn-danger  action-cancel">Cancel</button>
			</div>

			<div class="action-close">
				<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAAnNCSVQICFXsRgQAAAAJcEhZcwAABuwAAAbsAR51ODUAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAA40lEQVQYGQXBMUsUAACA0Re0ODSYXNHkpIcFkYJNgrNtQovzrUdFWwgN4ij4A/wzjUHLTQ7e1gkHKqgh6FB+vSfx0YmNJEkMHfmQiAPJna0k8daVZBy+SZI/3ideu5AkI6aSJNfWrZpLkpzxVZIkl84lSXIo9iVJkiTJsScSnz1KkiTJ90QSI/8kSfLoUxJJvHIuSZKZQRKJgVNJkiQTi4l4biJJkiT56VlY8EuS5NqNJMkPT9mTJLnwzoYrSZIdVj1IMjNMvDGX5NZLseuvTC0niRW/5d52JDZ9sZQkiRfG1pL/Ma/WHnWiibcAAAAASUVORK5CYII="/>
			</div>
		</div>
	</script>

	<script id="tree-editbox-template" type="text/template">
		<div class="row edit-box">
			<div class="col-lg-7 left">
				<div class="form-group">
				    <label class="control-label">Category Name</label>
			        <input type="text" class="form-control input-category">
				</div>
			</div>
			<div class="col-lg-2">
				<label class="control-label left">Period Type</label>
				<select name="period-type" class="period-type form-control">
					<option value=""></option>
				</select>
			</div>
			<div class="col-lg-1 left">
				<div class="form-group">
				    <label class="control-label left">Weight</label>
			        <input type="text" class="form-control input-weight">
				</div>
			</div>
			<div class="col-lg-2 row actions">
				<button type="button" class="btn btn-primary btn-block action-save">Save</button>
				<button type="button" class="btn btn-danger  action-cancel">Cancel</button>
			</div>
			<div class="action-close">
				<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAAnNCSVQICFXsRgQAAAAJcEhZcwAABuwAAAbsAR51ODUAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAA40lEQVQYGQXBMUsUAACA0Re0ODSYXNHkpIcFkYJNgrNtQovzrUdFWwgN4ij4A/wzjUHLTQ7e1gkHKqgh6FB+vSfx0YmNJEkMHfmQiAPJna0k8daVZBy+SZI/3ideu5AkI6aSJNfWrZpLkpzxVZIkl84lSXIo9iVJkiTJsScSnz1KkiTJ90QSI/8kSfLoUxJJvHIuSZKZQRKJgVNJkiQTi4l4biJJkiT56VlY8EuS5NqNJMkPT9mTJLnwzoYrSZIdVj1IMjNMvDGX5NZLseuvTC0niRW/5d52JDZ9sZQkiRfG1pL/Ma/WHnWiibcAAAAASUVORK5CYII="/>
			</div>
		</div>
	</script>



	<!--
	<script src="js/bootstrap.js"></script>
	-->
	<script src="js/INCTree.js"></script>
	<script>
		$(document).on("ready", function(){
			var data = [
				{
					category_id: "1",
					category_parent_id: "0",
					category_type: "LISTING",
					level: "1",
					name: "LISTING",
					period_type: "1",
					weight: null,
					children: [
						{
							category_id: "1.1",
							category_parent_id: "0",
							category_type: "LISTING",
							level: "1",
							name: "LISTING 1.1",
							period_type: "0",
							weight: null,
							children: []
						},{
							category_id: "1.2",
							category_parent_id: "0",
							category_type: "LISTING",
							level: "1",
							name: "LISTING 1.2",
							period_type: "0",
							weight: null,
							children: [
								{
									category_id: "1.2.1",
									category_parent_id: "0",
									category_type: "LISTING",
									level: "1",
									name: "LISTING 1.2.1",
									period_type: "0",
									weight: null,
									children: [
										{
											category_id: "1.2.2.1",
											category_parent_id: "0",
											category_type: "LISTING",
											level: "1",
											name: "LISTING 1.2.2.1",
											period_type: "0",
											weight: null,
											children: []
										}
									]
								},{
									category_id: "1.2.2",
									category_parent_id: "0",
									category_type: "LISTING",
									level: "1",
									name: "LISTING 1.2.2",
									period_type: "0",
									weight: null,
									children: []
								}
							]
						}
					],

				},
				{
					category_id: "2",
					category_parent_id: "0",
					category_type: "LISTING",
					level: "1",
					name: "LISTING 2",
					period_type: "0",
					weight: null,
					children: [
						{
							category_id: "2.1",
							category_parent_id: "0",
							category_type: "LISTING",
							children: [],
							level: "1",
							name: "LISTING 2.1",
							period_type: "0",
							weight: null
						},{
							category_id: "2.2",
							category_parent_id: "0",
							category_type: "LISTING",
							children: [],
							level: "1",
							name: "LISTING 2.2",
							period_type: "0",
							weight: null
						}
					]
				}
			];


			var newTree = new INCTree({
				container: "#tree",
				data: data,
				onAddSave: function(parent, object, context){
					console.log("ADD SAVE CALLBACK");
					console.log("parent",parent);
					console.log("object", object);
				},
				onEditSave: function(object, context){
					console.log("EDIT SAVE CALLBACK");
					console.log("object", object);
				},
				onDelete: function(object, context){
					console.log("DELETE CALLBACK");
					// console.log("delete",object);
					console.log(context);

				}

			});

			$("#refresh").click(function(){
				console.log("refrescando el arbol");
				newTree.refresh(data);
			});

		});
	</script>
</body>
</html>